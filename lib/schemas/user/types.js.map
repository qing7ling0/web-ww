{"version":3,"sources":["../../../src/schemas/user/types.js"],"names":["shopTypes","userFields","_id","type","account","description","password","name","last_login_time","last_login_ip","detail_id","user_type","defaultCreateFields","_accountType","fields","_accountInputType","userCommonFields","sex","editor_name","editor_time","userCommonInputFields","userShopGuideFields","manager","birthday","height","weight","entry_time","leave_time","userOperateFields","userProductionFields","step","userAdminFields","accountType","userShopGuideType","shop","shopType","userOperateType","userProductionType","userAdminType","userType","types","resolveType","value","USER_TYPES","shopGuide","operate","production","admin","IDType","userInputType","adminInputType","shopGuideInputType","operateInputType","productionInputType","accountInputType","logoutType","success"],"mappings":";;;;;;;;;AAAA;;AAYC;;;;AACA;;;;AACA;;IAAYA,S;;;;;;AAEL,IAAMC;AACZC,OAAK,EAACC,4BAAD,EADO;AAEZC,WAAS,EAAED,4BAAF,EAAuBE,aAAY,IAAnC,EAFG;AAGZC,YAAU,EAAEH,4BAAF,EAAsBE,aAAY,IAAlC,EAHE;AAIZE,QAAM,EAACJ,4BAAD,EAAqBE,aAAY,IAAjC,EAJM;AAKZG,mBAAiB,EAAEL,4BAAF,EAAsBE,aAAY,QAAlC,EALL;AAMZI,iBAAe,EAAEN,4BAAF,EAAuBE,aAAY,QAAnC,EANH;AAOZK,aAAW,EAAEP,4BAAF,EAPC;AAQZQ,aAAW,EAAER,4BAAF;AARC,GAST,uBAAaS,mBATJ,CAAN;;AAYR,IAAMC,eAAe,+BAAsB;AACzCN,QAAM,SADmC;AAEzCO,UAAQ;AACNZ,SAAK,EAAEC,4BAAF,EADC;AAENC,aAAS,EAAED,4BAAF,EAAuBE,aAAY,IAAnC,EAFH;AAGNC,cAAU,EAAEH,4BAAF,EAAsBE,aAAY,IAAlC;AAHJ;AAFiC,CAAtB,CAArB;;AASA,IAAMU,oBAAoB,oCAA2B;AACnDR,QAAM,cAD6C;AAEnDO,UAAQ;AACNZ,SAAK,EAAEC,4BAAF,EADC;AAENC,aAAS,EAAED,4BAAF,EAAuBE,aAAY,IAAnC,EAFH;AAGNC,cAAU,EAAEH,4BAAF,EAAsBE,aAAY,IAAlC;AAHJ;AAF2C,CAA3B,CAA1B;;AASA,IAAMW,mBAAmB;AACvBT,QAAM,EAACJ,4BAAD,EADiB;AAEvBc,OAAK,EAAEd,4BAAF,EAFkB,EAEM;AAC7BC,WAAS,EAACD,MAAMU,YAAP,EAHc;AAIvBK,eAAa,EAACf,4BAAD,EAJU;AAKvBgB,eAAa,EAAChB,4BAAD;AALU,CAAzB;;AAQA,IAAMiB,wBAAwB;AAC5Bb,QAAM,EAACJ,4BAAD,EADsB;AAE5Bc,OAAK,EAAEd,4BAAF,EAFuB,EAEC;AAC7BC,WAAS,EAACD,MAAMY,iBAAP,EAHmB;AAI5BG,eAAa,EAACf,4BAAD,EAJe;AAK5BgB,eAAa,EAAChB,4BAAD;AALe,CAA9B;;AAQA,IAAMkB,sBAAsB;AAC1BC,WAAS,EAAEnB,6BAAF,EADiB,EACQ;AAClCoB,YAAU,EAAEpB,4BAAF,EAFgB,EAEO;AACjCqB,UAAS,EAACrB,yBAAD,EAHiB,EAGG;AAC7BsB,UAAQ,EAAEtB,2BAAF,EAJkB,EAIK;AAC/BuB,cAAY,EAAEvB,4BAAF,EALc,EAKU;AACpCwB,cAAY,EAAExB,4BAAF,CAAuB;AAAvB,GANc,EAA5B;;AASA,IAAMyB,oBAAoB,EAA1B;;AAGA,IAAMC,uBAAuB;AAC3BC,QAAM,EAAE3B,4BAAF;AADqB,CAA7B;;AAIA,IAAM4B,kBAAkB,EAAxB;;AAGO,IAAMC,oCAAcnB,YAApB;;AAEA,IAAMoB,gDAAoB,+BAAsB;AACrD1B,QAAM,eAD+C;AAErDO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKa,gBAFL,EAGKK,mBAHL;AAIEa,UAAM,EAAC/B,MAAKH,UAAUmC,QAAhB,EAJR,CAImC;AAJnC;AAFqD,CAAtB,CAA1B;;AAUA,IAAMC,4CAAkB,+BAAsB;AACnD7B,QAAM,aAD6C;AAEnDO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKa,gBAFL,EAGKY,iBAHL;AAFmD,CAAtB,CAAxB;;AASA,IAAMS,kDAAqB,+BAAsB;AACtD9B,QAAM,gBADgD;AAEtDO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKa,gBAFL,EAGKa,oBAHL;AAFsD,CAAtB,CAA3B;;AASA,IAAMS,wCAAgB,+BAAsB;AACjD/B,QAAM,WAD2C;AAEjDO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKa,gBAFL,EAGKe,eAHL;AAFiD,CAAtB,CAAtB;;AASA,IAAMQ,8BAAW,8BAAqB;AAC3ChC,QAAK,MADsC;AAE3CiC,SAAM,CAACP,iBAAD,EAAoBG,eAApB,EAAqCC,kBAArC,EAAyDC,aAAzD,CAFqC;AAG3CG,aAH2C,uBAG/BC,KAH+B,EAGxB;AACjB,YAAOA,MAAM/B,SAAb;AACA,WAAK,oBAAUgC,UAAV,CAAqBC,SAA1B;AACE,eAAOX,iBAAP;AACF,WAAK,oBAAUU,UAAV,CAAqBE,OAA1B;AACE,eAAOT,eAAP;AACF,WAAK,oBAAUO,UAAV,CAAqBG,UAA1B;AACE,eAAOT,kBAAP;AACF,WAAK,oBAAUM,UAAV,CAAqBI,KAA1B;AACE,eAAOT,aAAP;AARF;AAUD;AAd0C,CAArB,CAAjB;;AAiBA,IAAMU,0BAAS,+BAAsB;AAC1CzC,QAAK,IADqC;AAE1CO,UAAQ;AACNZ,SAAI,EAACC,4BAAD;AADE;AAFkC,CAAtB,CAAf;;AAOA,IAAM8C,wCAAgB,oCAA2B;AACtD1C,QAAM,WADgD;AAEtDO,UAAQ;AACNV,aAAS,EAAED,4BAAF,EADH;AAENG,cAAU,EAAEH,4BAAF,EAFJ;AAGNI,UAAM,EAAEJ,4BAAF,EAHA;AAINQ,eAAW,EAAER,4BAAF;AAJL;AAF8C,CAA3B,CAAtB;;AAUP;;;AAGO,IAAM+C,0CAAiB,oCAA2B;AACvD3C,QAAK,gBADkD;AAEvDO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKiB,qBAFL,EAGKW,eAHL;AAFuD,CAA3B,CAAvB;;AASP;;;AAGO,IAAMoB,kDAAqB,oCAA2B;AAC3D5C,QAAK,oBADsD;AAE3DO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKiB,qBAFL,EAGKC,mBAHL;AAIEa,UAAM,EAAE/B,4BAAF,EAJR,CAIgC;AAJhC;AAF2D,CAA3B,CAA3B;;AAUP;;;AAGO,IAAMiD,8CAAmB,oCAA2B;AACzD7C,QAAK,kBADoD;AAEzDO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKiB,qBAFL,EAGKQ,iBAHL;AAFyD,CAA3B,CAAzB;;AASP;;;AAGO,IAAMyB,oDAAsB,oCAA2B;AAC5D9C,QAAK,qBADuD;AAE5DO;AACEZ,SAAK,EAACC,4BAAD;AADP,KAEKiB,qBAFL,EAGKS,oBAHL;AAF4D,CAA3B,CAA5B;;AAUA,IAAMyB,8CAAmBvC,iBAAzB;;AAEA,IAAMwC,kCAAa,+BAAsB;AAC9ChD,QAAM,YADwC;AAE9CO,UAAQ;AACN0C,aAAS,EAAErD,4BAAF;AADH;AAFsC,CAAtB,CAAnB","file":"types.js","sourcesContent":["import {\r\n  GraphQLObjectType,\r\n  GraphQLNonNull,\r\n  GraphQLString,\r\n  GraphQLID,\r\n  GraphQLInt,\r\n  GraphQLBoolean,\r\n  GraphQLFloat,\r\n  GraphQLUnionType,\r\n  GraphQLInputObjectType\r\n} from 'graphql';\r\n\r\n import commonFields from '../common/common-fields'\r\n import constants from '../../constants/constants'\r\n import * as shopTypes from '../shop/types'\r\n\r\n export const userFields = {\r\n  _id: {type:GraphQLString},\r\n  account: { type: GraphQLString, description:'账号' },\r\n  password: { type:GraphQLString, description:'密码' },\r\n  name: {type:GraphQLString, description:'姓名'},\r\n  last_login_time: { type:GraphQLString, description:'最后登陆时间' },\r\n  last_login_ip: { type: GraphQLString, description:'最后登陆IP' },\r\n  detail_id: { type:GraphQLString },\r\n  user_type: { type:GraphQLString },\r\n  ...commonFields.defaultCreateFields\r\n};\r\n\r\nconst _accountType = new GraphQLObjectType({\r\n  name: 'account',\r\n  fields: {\r\n    _id: { type: GraphQLString },\r\n    account: { type: GraphQLString, description:'账号' },\r\n    password: { type:GraphQLString, description:'密码' }\r\n  }\r\n});\r\n\r\nconst _accountInputType = new GraphQLInputObjectType({\r\n  name: 'accountInput',\r\n  fields: {\r\n    _id: { type: GraphQLString },\r\n    account: { type: GraphQLString, description:'账号' },\r\n    password: { type:GraphQLString, description:'密码' }\r\n  }\r\n});\r\n\r\nconst userCommonFields = {\r\n  name: {type:GraphQLString},\r\n  sex: { type:GraphQLString }, // 性别\r\n  account: {type: _accountType},\r\n  editor_name: {type:GraphQLString},\r\n  editor_time: {type:GraphQLString},\r\n}\r\n\r\nconst userCommonInputFields = {\r\n  name: {type:GraphQLString},\r\n  sex: { type:GraphQLString }, // 性别\r\n  account: {type: _accountInputType},\r\n  editor_name: {type:GraphQLString},\r\n  editor_time: {type:GraphQLString},\r\n}\r\n\r\nconst userShopGuideFields = {\r\n  manager: { type:GraphQLBoolean }, // 是否店长\r\n  birthday: { type:GraphQLString}, // 生日\r\n  height:  {type:GraphQLInt }, // 身高\r\n  weight: { type:GraphQLFloat }, // 体重\r\n  entry_time: { type:GraphQLString }, // 入职日期\r\n  leave_time: { type:GraphQLString } // 离职日期\r\n}\r\n\r\nconst userOperateFields = {\r\n}\r\n\r\nconst userProductionFields = {\r\n  step: { type:GraphQLString },\r\n}\r\n\r\nconst userAdminFields = {\r\n}\r\n\r\nexport const accountType = _accountType;\r\n\r\nexport const userShopGuideType = new GraphQLObjectType({\r\n  name: 'userShopGuide',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userShopGuideFields,\r\n    shop: {type:shopTypes.shopType}, // 店铺\r\n  }\r\n});\r\n\r\nexport const userOperateType = new GraphQLObjectType({\r\n  name: 'userOperate',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userOperateFields,\r\n  }\r\n});\r\n\r\nexport const userProductionType = new GraphQLObjectType({\r\n  name: 'userProduction',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userProductionFields\r\n  }\r\n});\r\n\r\nexport const userAdminType = new GraphQLObjectType({\r\n  name: 'userAdmin',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userAdminFields\r\n  }\r\n});\r\n\r\nexport const userType = new GraphQLUnionType({\r\n  name:'user',\r\n  types:[userShopGuideType, userOperateType, userProductionType, userAdminType],\r\n  resolveType(value) {\r\n    switch(value.user_type) {\r\n    case constants.USER_TYPES.shopGuide:\r\n      return userShopGuideType;\r\n    case constants.USER_TYPES.operate:\r\n      return userOperateType;\r\n    case constants.USER_TYPES.production:\r\n      return userProductionType;\r\n    case constants.USER_TYPES.admin:\r\n      return userAdminType;\r\n    }\r\n  }\r\n});\r\n\r\nexport const IDType = new GraphQLObjectType({\r\n  name:'id',\r\n  fields: {\r\n    _id:{type:GraphQLString}\r\n  }\r\n})\r\n\r\nexport const userInputType = new GraphQLInputObjectType({\r\n  name: 'userInput',\r\n  fields: {\r\n    account: { type:GraphQLString },\r\n    password: { type:GraphQLString },\r\n    name: { type:GraphQLString },\r\n    user_type: { type:GraphQLString }\r\n  }\r\n});\r\n\r\n/**\r\n * 管理员账号输入\r\n */\r\nexport const adminInputType = new GraphQLInputObjectType({\r\n  name:'adminInputType',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonInputFields,\r\n    ...userAdminFields\r\n  }\r\n});\r\n\r\n/**\r\n * 导购员账号输入\r\n */\r\nexport const shopGuideInputType = new GraphQLInputObjectType({\r\n  name:'shopGuideInputType',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonInputFields,\r\n    ...userShopGuideFields,\r\n    shop: { type:GraphQLString }, // 店铺\r\n  }\r\n});\r\n\r\n/**\r\n * 运营账号输入\r\n */\r\nexport const operateInputType = new GraphQLInputObjectType({\r\n  name:'operateInputType',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonInputFields,\r\n    ...userOperateFields\r\n  }\r\n});\r\n\r\n/**\r\n * 工厂账号输入\r\n */\r\nexport const productionInputType = new GraphQLInputObjectType({\r\n  name:'productionInputType',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonInputFields,\r\n    ...userProductionFields\r\n  }\r\n});\r\n\r\n\r\nexport const accountInputType = _accountInputType\r\n\r\nexport const logoutType = new GraphQLObjectType({\r\n  name: 'logoutType',\r\n  fields: {\r\n    success: { type:GraphQLString }\r\n  }\r\n});"]}