{"version":3,"sources":["../../../src/schemas/user.1/types.js"],"names":["userFields","_id","type","account","description","password","name","last_login_time","last_login_ip","detail_id","user_type","defaultCreateFields","_accountType","fields","_accountInputType","userCommonFields","sex","editor_name","editor_time","userCommonInputFields","userShopGuideFields","manager","shop_id","birthday","height","weight","entry_time","leave_time","userOperateFields","userProductionFields","step","userAdminFields","accountType","userShopGuideType","userOperateType","userProductionType","userAdminType","userType","types","resolveType","value","USER_TYPES","shopGuide","operate","production","admin","IDType","userInputType","adminInputType","accountInputType","logoutType","success"],"mappings":"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","file":"types.js","sourcesContent":["import {\r\n  GraphQLObjectType,\r\n  GraphQLNonNull,\r\n  GraphQLString,\r\n  GraphQLID,\r\n  GraphQLInt,\r\n  GraphQLBoolean,\r\n  GraphQLFloat,\r\n  GraphQLUnionType,\r\n  GraphQLInputObjectType\r\n} from 'graphql';\r\n\r\n import commonFields from '../common/common-fields'\r\n import constants from '../../constants/constants'\r\n\r\n export const userFields = {\r\n  _id: {type:GraphQLString},\r\n  account: { type: GraphQLString, description:'账号' },\r\n  password: { type:GraphQLString, description:'密码' },\r\n  name: {type:GraphQLString, description:'姓名'},\r\n  last_login_time: { type:GraphQLString, description:'最后登陆时间' },\r\n  last_login_ip: { type: GraphQLString, description:'最后登陆IP' },\r\n  detail_id: { type:GraphQLString },\r\n  user_type: { type:GraphQLString },\r\n  ...commonFields.defaultCreateFields\r\n};\r\n\r\nconst _accountType = new GraphQLObjectType({\r\n  name: 'account',\r\n  fields: {\r\n    _id: { type: GraphQLString },\r\n    account: { type: GraphQLString, description:'账号' },\r\n    password: { type:GraphQLString, description:'密码' }\r\n  }\r\n});\r\n\r\nconst _accountInputType = new GraphQLInputObjectType({\r\n  name: 'accountInput',\r\n  fields: {\r\n    _id: { type: GraphQLString },\r\n    account: { type: GraphQLString, description:'账号' },\r\n    password: { type:GraphQLString, description:'密码' }\r\n  }\r\n});\r\n\r\nconst userCommonFields = {\r\n  name: {type:GraphQLString},\r\n  sex: { type:GraphQLString }, // 性别\r\n  account: {type: _accountType},\r\n  editor_name: {type:GraphQLString},\r\n  editor_time: {type:GraphQLString},\r\n}\r\n\r\nconst userCommonInputFields = {\r\n  name: {type:GraphQLString},\r\n  sex: { type:GraphQLString }, // 性别\r\n  account: {type: _accountInputType},\r\n  editor_name: {type:GraphQLString},\r\n  editor_time: {type:GraphQLString},\r\n}\r\n\r\nconst userShopGuideFields = {\r\n  manager: { type:GraphQLBoolean }, // 是否店长\r\n  shop_id: { type:GraphQLString }, // 店铺\r\n  birthday: { type:GraphQLString}, // 生日\r\n  height:  {type:GraphQLInt }, // 身高\r\n  weight: { type:GraphQLFloat }, // 体重\r\n  entry_time: { type:GraphQLString }, // 入职日期\r\n  leave_time: { type:GraphQLString } // 离职日期\r\n}\r\n\r\nconst userOperateFields = {\r\n}\r\n\r\nconst userProductionFields = {\r\n  step: { type:GraphQLString },\r\n}\r\n\r\nconst userAdminFields = {\r\n}\r\n\r\nexport const accountType = _accountType;\r\n\r\nexport const userShopGuideType = new GraphQLObjectType({\r\n  name: 'userShopGuide',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userShopGuideFields,\r\n  }\r\n});\r\n\r\nexport const userOperateType = new GraphQLObjectType({\r\n  name: 'userOperate',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userOperateFields,\r\n  }\r\n});\r\n\r\nexport const userProductionType = new GraphQLObjectType({\r\n  name: 'userProduction',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userProductionFields\r\n  }\r\n});\r\n\r\nexport const userAdminType = new GraphQLObjectType({\r\n  name: 'userAdmin',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonFields,\r\n    ...userAdminFields\r\n  }\r\n});\r\n\r\nexport const userType = new GraphQLUnionType({\r\n  name:'user',\r\n  types:[userShopGuideType, userOperateType, userProductionType, userAdminType],\r\n  resolveType(value) {\r\n    switch(value.user_type) {\r\n    case constants.USER_TYPES.shopGuide:\r\n      return userShopGuideType;\r\n    case constants.USER_TYPES.operate:\r\n      return userOperateType;\r\n    case constants.USER_TYPES.production:\r\n      return userProductionType;\r\n    case constants.USER_TYPES.admin:\r\n      return userAdminType;\r\n    }\r\n  }\r\n});\r\n\r\nexport const IDType = new GraphQLObjectType({\r\n  name:'id',\r\n  fields: {\r\n    _id:{type:GraphQLString}\r\n  }\r\n})\r\n\r\nexport const userInputType = new GraphQLInputObjectType({\r\n  name: 'userInput',\r\n  fields: {\r\n    account: { type:GraphQLString },\r\n    password: { type:GraphQLString },\r\n    name: { type:GraphQLString },\r\n    user_type: { type:GraphQLString }\r\n  }\r\n});\r\n\r\n/**\r\n * 管理员账号输入\r\n */\r\nexport const adminInputType = new GraphQLInputObjectType({\r\n  name:'adminInputType',\r\n  fields: {\r\n    _id: {type:GraphQLString},\r\n    ...userCommonInputFields,\r\n    ...userAdminFields\r\n  }\r\n});\r\n\r\nexport const accountInputType = _accountInputType\r\n\r\nexport const logoutType = new GraphQLObjectType({\r\n  name: 'logoutType',\r\n  fields: {\r\n    success: { type:GraphQLString }\r\n  }\r\n});"]}