{"version":3,"sources":["../../src/models/sales.js"],"names":["mongoose","require","moment","DB","constants","baseFields","commonSchema","commonModel","Schema","materialFields","name","type","String","description","count","Number","color","ref","module","exports","materialModel","model","goodsBaseFields","NID","decription","goods","Types","ObjectId","style","season","put_date","Date","sex","price","maintain_cycle","pics","file","goodsShoesFields","s_material","s_xuan_hao","s_gui_ge","s_out_color","s_in_color","s_bottom_color","s_bottom_side_color","s_gen_gao","goodsBeltFields","b_material","b_color","goodsWatchStrapFields","ws_material","ws_style","goodsSchema","goodsModel","shoesFields","s_NID","s_tie_di","s_design_self","Boolean","default","s_shoes","s_foot_size","s_left_length","s_left_zhiWei","s_left_fuWei","s_right_length","s_right_zhiWei","s_right_fuWei","s_customs","s_urgent_day","s_urgent_price","beltFields","b_NID","b_belt","b_A","b_B","b_C","b_D","b_size_remark","watchStrapFields","ws_NID","ws_watch_strap","ws_A","ws_B","ws_C","ws_D","ws_E","ws_F","ws_G","ws_watch_brand","ws_size_remark","maintainFields","m_maintain","m_name","m_price","m_time","m_color","m_demo","m_wash","rechargeFields","r_amount","ornamentFields","o_NID","o_name","orderFields","source","pay","pay_type","order_state","transport_company","transport_id","transport_price","transport_name","transport_phone","transport_address","transport_zipcode","remark","ddecription","shop","guide","customer","desc","orderSchema","orderModel"],"mappings":"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","file":"sales.js","sourcesContent":["const mongoose = require('mongoose');\r\nconst moment = require('moment')\r\nconst DB = require('../db/DB')\r\n\r\nconst constants = require('../constants/constants')\r\nconst baseFields = require('./base-fields')\r\nconst {commonSchema, commonModel} = require('./common')\r\n\r\nconst Schema = mongoose.Schema;\r\n\r\nconst materialFields = {\r\n  name: {type:String, description:'名称'},\r\n  count: {type:Number, description:'数量'},\r\n  color: {type:String, ref:'common', description:'颜色'},\r\n  ...baseFields\r\n};\r\n\r\nmodule.exports.materialModel = mongoose.model('material', new Schema(materialFields));\r\n\r\nconst goodsBaseFields = {\r\n  NID: {type:String, decription:'编号'},\r\n  name: {type:String, description:'名称'},\r\n  goods: {type:String, description:'商品（鞋皮带表带）'},\r\n  type: {type: Schema.Types.ObjectId, ref:'common', description:'大分类'},\r\n  style: {type: Schema.Types.ObjectId, ref:'common', decription:'系列'},\r\n  season: {type: Schema.Types.ObjectId, ref:'common', decription:'季节'},\r\n  put_date: {type:Date, decription:'上架时间'},\r\n  sex: {type:String, decription:'男女'},\r\n  price: {type:Number, decription:'价格'},\r\n  maintain_cycle: {type:Number, decription:'保养周期'},\r\n  pics:[new Schema({\r\n    file:{type: Schema.Types.ObjectId, ref:'file', description:'图片'}\r\n  })]\r\n};\r\nconst goodsShoesFields = {\r\n  s_material: {type:Schema.Types.ObjectId, ref:'material', decription:'材质'},\r\n  s_xuan_hao: {type:Schema.Types.ObjectId, ref:'common', decription:'楦号'},\r\n  s_gui_ge: {type:Schema.Types.ObjectId, ref:'common', decription:'规格'},\r\n  s_out_color: {type:Schema.Types.ObjectId, ref:'common', decription:'鞋面颜色'},\r\n  s_in_color: {type:Schema.Types.ObjectId, ref:'common', decription:'里皮颜色'},\r\n  s_bottom_color: {type:Schema.Types.ObjectId, ref:'common', decription:'鞋底颜色'},\r\n  s_bottom_side_color: {type:Schema.Types.ObjectId, ref:'common', decription:'底边颜色'},\r\n  s_gen_gao: {type:Schema.Types.ObjectId, ref:'common', decription:'跟高'},\r\n};\r\n\r\nvar goodsBeltFields = {\r\n  b_material: {type:Schema.Types.ObjectId, ref:'material', description:'材质'},\r\n  b_color: {type:Schema.Types.ObjectId, ref:'common', description:'颜色'}\r\n};\r\n\r\nvar goodsWatchStrapFields = {\r\n  ws_material: {type:Schema.Types.ObjectId, ref:'material', description:'材质'},\r\n  ws_style: {type:Schema.Types.ObjectId, ref:'common', description:'类型，男女'}\r\n};\r\n\r\nvar goodsSchema = new Schema({\r\n  ...goodsBaseFields,\r\n  ...goodsShoesFields,\r\n  ...goodsBeltFields,\r\n  ...goodsWatchStrapFields,\r\n  ...baseFields\r\n});\r\nmodule.exports.goodsModel = mongoose.model('goods', goodsSchema);\r\n\r\n// 鞋\r\nconst shoesFields = {\r\n  s_NID: {type:String, decription:'编号'},\r\n  s_material: {type:String, decription:'材质'},\r\n  s_xuan_hao: {type:String, decription:'楦号'},\r\n  s_gui_ge: {type:String, decription:'规格'},\r\n  s_gen_gao: {type:String, decription:'跟高'},\r\n  s_out_color: {type:String, decription:'鞋面颜色'},\r\n  s_in_color: {type:String, decription:'里皮颜色'},\r\n  s_bottom_color: {type:String, decription:'鞋底颜色'},\r\n  s_bottom_side_color: {type:String, decription:'底边颜色'},\r\n  s_tie_di: {type:String, decription:'贴底'},\r\n  s_design_self: {type:Boolean, default:false, decription:'是否来样设计'},\r\n  s_shoes: {type:Schema.Types.ObjectId, ref:'goods', decription:'商品'},\r\n\r\n  s_foot_size: {type: Number, description:'尺码'},\r\n  s_left_length: {type: Number, description:'左脚长度'},\r\n  s_left_zhiWei: {type: Number, decription:'左脚趾围'},\r\n  s_left_fuWei: {type: Number, decription:'左脚附维'},\r\n  s_right_length: {type: Number, description:'右脚长度'},\r\n  s_right_zhiWei: {type: Number, decription:'右脚趾围'},\r\n  s_right_fuWei: {type: Number, decription:'右脚附维'},\r\n  s_customs:[commonSchema], // 特殊定制\r\n  s_urgent_day: {type: Number, decription:'加急天数'},\r\n  s_urgent_price: {type: Number, decription:'加急价格'},\r\n}\r\n\r\n// 皮带\r\nconst beltFields = {\r\n  b_NID: {type:String, decription:'编号'},\r\n  b_material:{type:String, decription:'材质'},\r\n  b_color:{type:String, decription:'颜色'},\r\n  b_belt: {type:Schema.Types.ObjectId, ref:'goods', decription:'商品'},\r\n\r\n  b_A: {type: Number, decription:'皮带测量数据A'},\r\n  b_B: {type: Number, decription:'皮带测量数据B'},\r\n  b_C: {type: Number, decription:'皮带测量数据C'},\r\n  b_D: {type: Number, decription:'皮带测量数据D'},\r\n  b_size_remark: {type: String, decription:'皮带测量备注'},\r\n}\r\n\r\n// 表带\r\nconst watchStrapFields = {\r\n  ws_NID: {type:String, decription:'编号'},\r\n  ws_material:{type:String, decription:'材质'},\r\n  ws_style:{type:String, decription:'类别，男女'},\r\n  ws_watch_strap: {type:Schema.Types.ObjectId, ref:'goods', decription:'商品'},\r\n\r\n  ws_A: {type: Number, decription:'表带测量数据A'},\r\n  ws_B: {type: Number, decription:'表带测量数据B'},\r\n  ws_C: {type: Number, decription:'表带测量数据C'},\r\n  ws_D: {type: Number, decription:'表带测量数据D'},\r\n  ws_E: {type: Number, decription:'表带测量数据E'},\r\n  ws_F: {type: Number, decription:'表带测量数据F'},\r\n  ws_G: {type: Number, decription:'表带测量数据G'},\r\n  ws_watch_brand:{type: String, decription:'手表品牌'},\r\n  ws_size_remark: {type: String, decription:'表带测量备注'},\r\n}\r\n\r\n// 护理\r\nconst maintainFields = {\r\n  m_maintain: {type:Schema.Types.ObjectId, ref:'common', decription:'商品'},\r\n  m_name:{type:String, decription:'护理内容'},\r\n  m_price:{type:String, decription:'护理价格'},\r\n  m_time:{type:Number, decription:'护理时间'},\r\n  m_color:{type:String, decription:'颜色'},\r\n  m_demo:{type:String, decription:'样品'},\r\n  m_wash:{type:Boolean, decription:'是否水洗'}\r\n}\r\n\r\n// 充值\r\nconst rechargeFields = {\r\n  r_amount:{type:Number, decription:'充值金额'},\r\n}\r\n\r\n// 配饰\r\nconst ornamentFields = {\r\n  o_NID:{type:String, decription:'编号'},\r\n  o_name:{type:String, decription:'名称'},\r\n}\r\n\r\nconst orderFields = {\r\n  type: {type:String, description:'类型'},\r\n  source: {type:String, description:'来源'},\r\n  pay:{type:Number, decription:'支付金额'},\r\n  pay_type:{type:String, decription:'支付方式'},\r\n  order_state: {type:String, decription:'订单状态'},\r\n  transport_company: {type:String, decription:'快递公司'},\r\n  transport_id:{type:String, decription:'快递单号'},\r\n  transport_price:{type:Number, decription:'快递费用'},\r\n  transport_name: {type:String, decription:'收货人'},\r\n  transport_phone: {type:String, decription:'电话'},\r\n  transport_address: {type:String, decription:'收货地址'},\r\n  transport_zipcode: {type:String, decription:'邮编'},\r\n  remark:{type:String, ddecription:'备注'},\r\n  shop: {type:Schema.Types.ObjectId, ref:'shop', decription:'店铺'},\r\n  guide: {type:Schema.Types.ObjectId, ref:'user_shop_guide', decription:'导购'},\r\n  customer: {type:Schema.Types.ObjectId, ref:'customer', decription:'客户'},\r\n  pics:[new Schema({\r\n    file:{type:Schema.Types.ObjectId, ref:'file', decription:'图片'},\r\n    desc:{type:String, decription:'说明'}\r\n  })],\r\n  ...shoesFields,\r\n  ...beltFields,\r\n  ...watchStrapFields,\r\n  ...maintainFields,\r\n  ...rechargeFields,\r\n  ...ornamentFields,\r\n  ...baseFields\r\n}\r\nconst orderSchema = new Schema({\r\n  orderFields\r\n});\r\nmodule.exports.orderModel = mongoose.model('order', orderSchema);"]}