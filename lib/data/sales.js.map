{"version":3,"sources":["../../src/data/sales.js"],"names":["logUtil","require","SalesData","query","populate","exec","page","options","getList","goodsShoesPopulate","list","id","findById","profile","module","exports"],"mappings":";;;;AAAA;;;;AAEA;;AAgBA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AACA;;AAEA,IAAMA,UAAUC,QAAQ,oBAAR,CAAhB;;IAEMC,S;;;;;;;uCAEeC,K,EAAO;AACxB,aAAOA,MACJC,QADI,CACK,MADL,EACaA,QADb,CACsB,QADtB,EACgCA,QADhC,CACyC,OADzC,EAEJA,QAFI,CAEK,WAFL,EAEkBA,QAFlB,CAE2B,UAF3B,EAGJA,QAHI,CAGK,cAHL,EAGqBA,QAHrB,CAG8B,mBAH9B,EAGmDC,IAHnD,EAAP;AAID;;;;0FAEuBC,I,EAAMC,O;;;;;;;;;uBACT,aAAGC,OAAH,yBAA4BD,OAA5B,EAAqCD,IAArC,EAA2C,UAACH,KAAD,EAAS;AACrE,yBAAO,MAAKM,kBAAL,CAAwBN,KAAxB,CAAP;AACD,iBAFkB,C;;;AAAbO,oB;iDAGCA,I;;;;;;;;;;;;;;;;;;;4FAGkBC,E;;;;;;;;;uBACH,aAAGC,QAAH,yBAA6BD,EAA7B,EAAiC,UAACR,KAAD,EAAS;AAC9D,yBAAO,OAAKM,kBAAL,CAAwBN,KAAxB,CAAP;AACD,iBAFqB,C;;;AAAhBU,uB;kDAGCA,O;;;;;;;;;;;;;;;;;;;;;AAIXC,OAAOC,OAAP,GAAiB,IAAIb,SAAJ,EAAjB","file":"sales.js","sourcesContent":["import moment from 'moment'\r\n\r\nimport { \r\n  userModel, \r\n  userShopGuideModel, \r\n  userOperateModel, \r\n  userProductionModel,\r\n  userAdminModel,\r\n  accountModel,\r\n  materialModel,\r\n  colorModel,\r\n  goodsTypeModel,\r\n  goodsSeasonModel,\r\n  goodsStyleModel,\r\n  xuanHaoModel,\r\n  goodsShoesModel\r\n} from '../models/index.js'\r\n\r\nimport { ApiError, ApiErrorNames } from '../error/api-errors'\r\nimport utils from '../utils/utils'\r\nimport baseUtils from '../base/utils/utils'\r\nimport constants from '../constants/constants'\r\nimport DB from '../db/DB'\r\n// import \r\n\r\nconst logUtil = require('../utils/log-utils');\r\n\r\nclass SalesData {\r\n\r\n  goodsShoesPopulate(query) {\r\n    return query\r\n      .populate('type').populate('season').populate('style')\r\n      .populate('out_color').populate('in_color')\r\n      .populate('bottom_color').populate('bottom_side_color').exec();\r\n  }\r\n\r\n  async getGoodsShoesList(page, options) {\r\n    const list = await DB.getList(goodsShoesModel, options, page, (query)=>{\r\n      return this.goodsShoesPopulate(query);\r\n    });\r\n    return list;\r\n  }\r\n\r\n  async getGoodsShoesProfile(id) {\r\n    const profile = await DB.findById(goodsShoesModel, id, (query)=>{\r\n      return this.goodsShoesPopulate(query);\r\n    });\r\n    return profile;\r\n  }\r\n}\r\n\r\nmodule.exports = new SalesData()"]}