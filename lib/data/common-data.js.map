{"version":3,"sources":["../../src/data/common-data.js"],"names":["require","Menus","Routers","CommonData","type","options","page","conditions","getList","doc","add","update","remove","model","ids","removeByIds","id","onQuery","findById","module","exports"],"mappings":";;;;AACA;;AAIA;;;;;;;;;;eALyBA,QAAQ,qBAAR,C;IAAlBC,K,YAAAA,K;IAAOC,O,YAAAA,O;;IAORC,U;;;;;;;;;;;;;iDAGKF,K;;;;;;;;;;;;;;;;;;;;;;;;kDAIAC,O;;;;;;;;;;;;;;;;;;;4FAGWE,I;YAAMC,O,uEAAQ,E;YAAIC,I;;;;;AACpC,oBAAIF,IAAJ,EAAS;AACP,sBAAI,CAACC,OAAL,EAAc;AACZA,8BAAU,EAACE,YAAW,EAAZ,EAAV;AACD,mBAFD,MAEO,IAAG,CAACF,QAAQE,UAAZ,EAAwB;AAC7BF,4BAAQE,UAAR,GAAqB,EAArB;AACD;AACDF,0BAAQE,UAAR,CAAmBH,IAAnB,GAA0BA,IAA1B;AACD;;kDAEM,aAAGI,OAAH,qBAAwBH,OAAxB,EAAiCC,IAAjC,C;;;;;;;;;;;;;;;;;;;4FAEOG,G;YAAKJ,O,uEAAQ,E;;;;;kDACpB,aAAGK,GAAH,qBAAoBD,GAApB,EAAyBJ,OAAzB,C;;;;;;;;;;;;;;;;;;;4FAEUE,U,EAAYE,G,EAAKJ,O;;;;;kDAC3B,aAAGM,MAAH,qBAAuBJ,UAAvB,EAAmCE,GAAnC,EAAwCJ,OAAxC,C;;;;;;;;;;;;;;;;;;;4FAEUE,U;;;;;kDACV,aAAGK,MAAH,qBAAuBL,UAAvB,C;;;;;;;;;;;;;;;;;;;4FAEeM,K,EAAOC,G;;;;;kDACtB,aAAGC,WAAH,qBAA4BD,GAA5B,C;;;;;;;;;;;;;;;;;;;4FAEYE,E,EAAIC,O;;;;;kDAChB,aAAGC,QAAH,qBAAyBF,EAAzB,EAA6BC,OAA7B,C;;;;;;;;;;;;;;;;;;;;;AAIXE,OAAOC,OAAP,GAAiB,IAAIjB,UAAJ,EAAjB","file":"common-data.js","sourcesContent":["const {Menus, Routers} = require('../constants/config')\r\nimport { \r\n  commonModel\r\n} from '../models/index.js'\r\n\r\nimport DB from '../db/DB'\r\n\r\nclass CommonData {\r\n\r\n  async getMenus() {\r\n    return Menus;\r\n  }\r\n\r\n  async getRouters() {\r\n    return Routers;\r\n  }\r\n\r\n  async getCommonList(type, options={}, page) {\r\n    if (type){\r\n      if (!options) {\r\n        options = {conditions:{}};\r\n      } else if(!options.conditions) {\r\n        options.conditions = {};\r\n      }\r\n      options.conditions.type = type;\r\n    }\r\n\r\n    return DB.getList(commonModel, options, page);\r\n  }\r\n  async addCommon(doc, options={}) {\r\n    return DB.add(commonModel, doc, options);\r\n  }\r\n  async updateCommon(conditions, doc, options) {\r\n    return DB.update(commonModel, conditions, doc, options);\r\n  }\r\n  async removeCommon(conditions) {\r\n    return DB.remove(commonModel, conditions);\r\n  }\r\n  async removeByIdsCommon(model, ids) {\r\n    return DB.removeByIds(commonModel, ids);\r\n  }\r\n  async findByIdCommon(id, onQuery) {\r\n    return DB.findById(commonModel, id, onQuery);\r\n  }\r\n}\r\n\r\nmodule.exports = new CommonData();"]}